var leafletstyleeditor=function(e){var t={};function i(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=8)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WeightElement=t.SizeElement=t.PopupContentElement=t.OpacityElement=t.IconElement=t.FormElement=t.DashElement=t.ColorElement=void 0;const r=i(15);Object.defineProperty(t,"ColorElement",{enumerable:!0,get:function(){return r.ColorElement}});const o=i(16);Object.defineProperty(t,"DashElement",{enumerable:!0,get:function(){return o.DashElement}});const s=i(4);Object.defineProperty(t,"FormElement",{enumerable:!0,get:function(){return s.FormElement}});const l=i(17);Object.defineProperty(t,"IconElement",{enumerable:!0,get:function(){return l.IconElement}});const n=i(18);Object.defineProperty(t,"OpacityElement",{enumerable:!0,get:function(){return n.OpacityElement}});const a=i(19);Object.defineProperty(t,"PopupContentElement",{enumerable:!0,get:function(){return a.PopupContentElement}});const c=i(20);Object.defineProperty(t,"SizeElement",{enumerable:!0,get:function(){return c.SizeElement}});const h=i(21);Object.defineProperty(t,"WeightElement",{enumerable:!0,get:function(){return h.WeightElement}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleEditorClass=void 0;class r extends L.Class{constructor(e){super(),this.styleEditor=e,this.map=e.map,this.util=e.util}}t.StyleEditorClass=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultStyleEditorOptions=void 0;const r=i(25);Object.defineProperty(t,"DefaultStyleEditorOptions",{enumerable:!0,get:function(){return r.DefaultStyleEditorOptions}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkerForm=t.GeometryForm=t.Form=void 0;const r=i(14);Object.defineProperty(t,"Form",{enumerable:!0,get:function(){return r.Form}});const o=i(6);Object.defineProperty(t,"MarkerForm",{enumerable:!0,get:function(){return o.MarkerForm}});const s=i(22);Object.defineProperty(t,"GeometryForm",{enumerable:!0,get:function(){return s.GeometryForm}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormElement=void 0;const r=i(1);class o extends r.StyleEditorClass{constructor(e,t,i){super(e.styleEditor),this.styleOption=i,this.parentForm=e,this.create(t)}create(e){this.uiElement=L.DomUtil.create("div","leaflet-styleeditor-uiElement",e),this.createTitle(),this.createContent()}createTitle(){L.DomUtil.create("label","leaflet-styleeditor-label",this.uiElement).innerHTML=this.title||this.styleOption.charAt(0).toUpperCase()+this.styleOption.slice(1)}createContent(){}show(){this.style(),this.showForm()}showForm(){this.util.showElement(this.uiElement)}hide(){this.util.hideElement(this.uiElement)}style(){}lostFocus(){}setStyle(e){const t=this.parentForm.styleEditor.getCurrentLayers();for(let i=0;i<t.length;i++){let r=t[i];if(r instanceof L.Marker)new this.styleEditor.options.markerType(this.styleEditor).setStyle(this.styleOption,e);else if(r instanceof L.Path){let t={};t[this.styleOption]=e,r.setStyle(t),r.options[this.styleOption]=e}this.util.fireChangeEvent(r)}this.parentForm.style()}}t.FormElement=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleEditorImpl=void 0;const r=i(10),o=i(11),s=i(2);class l extends L.Class{constructor(e,t){super(),this.map=e,this.options=Object.assign(Object.assign({},s.DefaultStyleEditorOptions),t),this.util=new o.Util(this),this.createUi()}createUi(){const e=this.editorUI=L.DomUtil.create("div","leaflet-styleeditor",this.map.getContainer()),t=L.DomUtil.create("div","leaflet-styleeditor-header",e);this.interiorEditorUI=L.DomUtil.create("div","leaflet-styleeditor-interior",e);const i=L.DomUtil.create("button","leaflet-styleeditor-button styleeditor-hideBtn",t);i.title=this.options.strings.hide;const o=this.tooltipUI=L.DomUtil.create("div","leaflet-styleeditor-tooltip-wrapper",this.map.getContainer());L.DomUtil.create("div","leaflet-styleeditor-tooltip",o).innerHTML=this.options.strings.tooltip,L.DomEvent.disableScrollPropagation(e),L.DomEvent.disableScrollPropagation(i),L.DomEvent.disableClickPropagation(e),L.DomEvent.disableClickPropagation(i),L.DomEvent.on(i,"click",this.onNext,this),this.addEventListeners(this.map),this.styleForm=new r.StyleForm(this)}addEventListeners(e){this.options.events.forEach(t=>e.on(t,this.onEvent))}onEvent(e){}onNext(e){this.hideEditor(),this.showTooltip(),e.stopPropagation()}removeIndicators(){const e=this.map.getPanes().markerPane.children;for(let t=0;t<e.length;t++){const i=e[t];L.DomUtil.removeClass(i,"leaflet-styleeditor-marker-selected")}}addClickEvents(){this.map.eachLayer(this.addClickEvent,this)}addClickEvent(e){this.layerIsIgnored(e)||(this.options.useGrouping&&e instanceof L.LayerGroup||e instanceof L.Marker||e instanceof L.Path)&&e.on("click",this.showEditor,this)}removeClickEvents(){this.map.eachLayer(this.removeClickEvent,this)}removeClickEvent(e){e.off("click",this.showEditor,this)}layerIsIgnored(e){return void 0!==e&&this.options.ignoreLayerTypes.some(t=>e.styleEditor&&e.styleEditor.type.toUpperCase()===t.toUpperCase())}hideEditor(){L.DomUtil.removeClass(this.editorUI,"editor-enabled"),this.removeIndicators(),this.fireEvent("hidden")}showEditor(e){e&&(this.currentElement=e),this.currentElement&&L.DomUtil.addClass(this.editorUI,"editor-enabled"),this.fireEvent("visible"),this.styleForm.show()}showTooltip(){L.DomUtil.removeClass(this.tooltipUI,"leaflet-styleeditor-hidden")}hideTooltip(){L.DomUtil.addClass(this.tooltipUI,"leaflet-styleeditor-hidden")}fireEvent(e,t){}enable(){this.addClickEvents(),this.showTooltip(),this.showEditor()}disable(){this.removeClickEvents(),this.hideTooltip(),this.hideEditor()}getCurrentLayers(){return this.currentElement?this.options.useGrouping&&this.currentElement.target instanceof L.LayerGroup?this.currentElement.target.getLayers():[this.currentElement.target]:[]}getCurrentMarker(){return this.getCurrentLayers().filter(e=>e instanceof L.Marker)}}t.StyleEditorImpl=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkerForm=void 0;const r=i(3),o=i(0);class s extends r.Form{constructor(){super(...arguments),this.formOptionsKey="marker",this.formElements={icon:o.IconElement,color:o.ColorElement,size:o.SizeElement,popupContent:o.PopupContentElement}}}t.MarkerForm=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultMarker=t.Marker=void 0;const r=i(23);Object.defineProperty(t,"Marker",{enumerable:!0,get:function(){return r.Marker}});const o=i(24);Object.defineProperty(t,"DefaultMarker",{enumerable:!0,get:function(){return o.DefaultMarker}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(9);const r=i(5),o=i(26);i(27),L.StyleEditor=r.StyleEditorImpl,L.styleEditor=function(e,t){return new r.StyleEditorImpl(e,t)},L.Control.StyleEditor=o.StyleEditorControl,L.control.styleEditor=function(e){return new o.StyleEditorControl(e)},t.default=L},function(e,t){e.exports=void 0},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleForm=void 0;const r=i(1);class o extends r.StyleEditorClass{constructor(e){super(e),this.markerForm=this.createMarkerForm(),this.geometryForm=this.createGeometryForm(),this.clearForm(),this.addDOMEvents()}addDOMEvents(){L.DomEvent.addListener(this.map,"click",this.lostFocus,this),L.DomEvent.addListener(this.styleEditor.editorUI,"click",this.lostFocus,this)}clearForm(){this.markerForm.hide(),this.geometryForm.hide()}createMarkerForm(){const e=L.DomUtil.create("div","leaflet-styleeditor-interior-marker",this.styleEditor.interiorEditorUI),t=new this.styleEditor.options.markerForm(this.styleEditor,e);return t.create(),t}createGeometryForm(){const e=L.DomUtil.create("div","leaflet-styleeditor-interior-geometry",this.styleEditor.interiorEditorUI),t=new this.styleEditor.options.geometryForm(this.styleEditor,e);return t.create(),t}show(){this.styleEditor.getCurrentMarker().length>0?this.showMarkerForm():this.showGeometryForm()}showMarkerForm(){this.clearForm(),this.markerForm.show()}showGeometryForm(){this.clearForm(),this.geometryForm.show()}fireChangeEvent(e){this.util.fireChangeEvent(e)}lostFocus(e){let t=e.target;for(let e=0;e<10&&t;e++){if(t.className&&L.DomUtil.hasClass(t,"leaflet-styleeditor-interior"))return;t=t.parentNode}this.markerForm.lostFocus(),this.geometryForm.lostFocus()}}t.StyleForm=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.UtilOptions=void 0;t.UtilOptions=class{};t.Util=class{constructor(e){this.styleEditor=e,this.map=e.map,this.options=e.options}fireEvent(e,t){this.map.fireEvent(this.options.styleEditorEventPrefix+e,t)}fireChangeEvent(e){this.fireEvent("changed",e)}hideElement(e){e&&L.DomUtil.addClass(e,"leaflet-styleeditor-hidden")}rgbToHex(e,t=!1){if(e||0!==(e=this.options.defaultColor).indexOf("#")&&(e="#"+e),0===e.indexOf("#"))return t&&e.replace("#",""),e;if(e.indexOf("(")<0)return"#"+e;let i=e.substring(4).replace(")","").split(","),r=this.componentToHex(parseInt(i[0],10))+this.componentToHex(parseInt(i[1],10))+this.componentToHex(parseInt(i[2],10));return t?r:"#"+r}getStyle(e){const t=this.styleEditor.getCurrentLayers();if(t.length>0){let i=t[0].options[e];if(i)return i}return null}setStyle(e,t,i){if(e instanceof L.Marker)new this.styleEditor.options.markerType(this.styleEditor).setStyle(t,i);else{let r={};r[t]=i,e.setStyle(r)}this.fireChangeEvent(e)}showElement(e){e&&L.DomUtil.removeClass(e,"leaflet-styleeditor-hidden")}componentToHex(e){let t=e.toString(16);return 1===t.length?"0"+t:t}getIconsForColor(e){e=this.rgbToHex(e);let t=new this.styleEditor.options.markerType(this.styleEditor).markers,i=this.styleEditor.options.markers;if(Array.isArray(t)||(t=Object.keys(t).includes(e)?t[e]:t.default),null!==i){if(!Array.isArray(i)){let r=Object.keys(i);i=r.includes(e)?i[e]:r.includes("default")?i.default:t}return t.filter(e=>i.includes(e))}return t}getDefaultMarkerForColor(e){e=this.rgbToHex(e);let t=this.getIconsForColor(e),i=[],r=this.styleEditor.options.defaultMarkerIcon;return null!==r&&("string"==typeof r&&i.push(r),Object.keys(r).includes(e)&&i.push(r[e])),r=new this.styleEditor.options.markerType(this.styleEditor).defaultMarkerIcon,void 0!==r&&("string"==typeof r&&i.push(r),Object.keys(r).includes(e)&&i.push(r[e])),i.filter(e=>t.includes(e)),i.length>0?i[0]:t[0]}canCurrentLayersBeFilled(){return null!=this.styleEditor.getCurrentLayers().find(e=>e.options.fill)}}},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Form=void 0;const r=i(1);class o extends r.StyleEditorClass{constructor(e,t){super(e),this.initializedElements={},this.parentUiElement=t}create(){for(let e in this.formElements){const t=this.getFormElementClass(e);void 0!==t&&(this.initializedElements[e]=new t(this,this.parentUiElement,e))}}hide(){this.hideFormElements(),this.hideForm()}hideFormElements(){for(let e in this.initializedElements)this.initializedElements[e].hide()}hideForm(){this.util.hideElement(this.parentUiElement)}show(){this.preShow(),this.showFormElement(),this.showForm(),this.style()}preShow(){}showFormElement(){for(let e in this.initializedElements)this.showOrHideFormElement(this.initializedElements[e])}showForm(){this.util.showElement(this.parentUiElement)}style(){for(let e in this.initializedElements)this.initializedElements[e].style()}lostFocus(){for(let e in this.initializedElements)this.initializedElements[e].lostFocus()}showOrHideFormElement(e){this.showFormElementForStyleOption(e.styleOption)?e.show():e.hide()}getFormElementClass(e){if(Object.keys(this.formElements).indexOf(e)>=0){let t=this.formElements[e];if(t){if("boolean"==typeof t)return this.getFormElementStandardClass(e);"formElement"in t&&"boolean"in t&&(t=t.formElement)}return this.getFormElementStandardClass(e)}}showFormElementForStyleOption(e){if(e in this.formElements){const t=this.styleEditor.options.forms[this.formOptionsKey][e];switch(typeof t){case"function":try{return t(this.styleEditor.getCurrentLayers())}catch(e){return!0}case"boolean":return t;case"object":if("boolean"in t)return"function"==typeof t.boolean?t.boolean(this.styleEditor.currentElement):t.boolean;default:return!1}}}getFormElementStandardClass(e){return this.formElements[e]}}t.Form=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorElement=void 0;const r=i(4),o=i(6);class s extends r.FormElement{constructor(){super(...arguments),this.title="color"}createContent(){this.colorPickerDiv=L.DomUtil.create("div","leaflet-styleeditor-colorpicker",this.uiElement),this.getColorRamp().forEach(this.setSelectCallback,this)}getColorRamp(){if(this.parentForm instanceof o.MarkerForm){const e=new this.styleEditor.options.markerType(this.styleEditor);if(e.colorRamp)return e.colorRamp}return this.styleEditor.options.colorRamp}setSelectCallback(e){let t=L.DomUtil.create("div","leaflet-styleeditor-color",this.colorPickerDiv);t.style.backgroundColor=e,L.DomEvent.addListener(t,"click",this.selectColor,this)}selectColor(e){e.stopPropagation(),this.setStyle(this.util.rgbToHex(e.target.style.backgroundColor))}}t.ColorElement=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DashElement=void 0;const r=i(4);class o extends r.FormElement{createContent(){let e=L.DomUtil.create("div","leaflet-styleeditor-stroke",this.uiElement);e.style.backgroundPosition="0px -75px",L.DomEvent.addListener(e,"click",(function(){this.setStyle("1")}),this),e=L.DomUtil.create("div","leaflet-styleeditor-stroke",this.uiElement),e.style.backgroundPosition="0px -95px",L.DomEvent.addListener(e,"click",(function(){this.setStyle("10, 10")}),this),e=L.DomUtil.create("div","leaflet-styleeditor-stroke",this.uiElement),e.style.backgroundPosition="-10px -115px",L.DomEvent.addListener(e,"click",(function(){this.setStyle("15, 10, 1, 10")}),this)}}t.DashElement=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconElement=void 0;const r=i(0);class o extends r.FormElement{constructor(){super(...arguments),this.styleOption="icon",this.selectOptionWrapperClasses="leaflet-styleeditor-select-option-wrapper leaflet-styleeditor-hidden",this.selectOptionClasses="leaflet-styleeditor-select-option"}createContent(){let e=L.DomUtil.create("div","leaflet-styleeditor-select",this.uiElement);this.selectBoxImage=this.createSelectInputImage(e),L.DomEvent.addListener(e,"click",this.toggleSelectInput,this)}style(){let e=new this.styleEditor.options.markerType(this.styleEditor).getIconOptions();this.styleSelectInputImage(this.selectBoxImage,e.icon,e.iconColor),this.createColorSelect(e.iconColor),this.hideSelectOptions()}lostFocus(){this.hideSelectOptions()}createSelectInputImage(e){let t=L.DomUtil.create("div","leaflet-styleeditor-select-image-wrapper",e);return L.DomUtil.create("div","leaflet-styleeditor-select-image",t)}styleSelectInputImage(e,t,i){let r=new this.styleEditor.options.markerType(this.styleEditor).getIconOptions();i&&(r.iconColor=i),e.innerHTML="",new this.styleEditor.options.markerType(this.styleEditor).createSelectHTML(e,r,t)}createColorSelect(e){if(this.selectOptions||(this.selectOptions={}),e in this.selectOptions)return;let t=L.DomUtil.create("ul",this.selectOptionWrapperClasses,this.uiElement);this.util.getIconsForColor(e).forEach((function(i){let r=L.DomUtil.create("li",this.selectOptionClasses,t);r.setAttribute("value",i);let o=this.createSelectInputImage(r);this.styleSelectInputImage(o,i,e)}),this),this.selectOptions[e]=t,L.DomEvent.addListener(t,"click",(function(e){e.stopPropagation();let t=e.target;if("UL"!==t.nodeName){for(;t&&"leaflet-styleeditor-select-option"!==t.className;)t=t.parentNode;this.selectMarker({target:t},this)}}),this)}toggleSelectInput(){let e=this.getCurrentColorElement(this.util.rgbToHex(new this.styleEditor.options.markerType(this.styleEditor).getIconOptions().iconColor)),t=!1;e&&(t=L.DomUtil.hasClass(e,"leaflet-styleeditor-hidden")),this.hideSelectOptions(),t&&this.util.showElement(e)}selectMarker(e){let t=this.getValue(e.target);this.selectBoxImage.setAttribute("value",t),this.setStyle(t),this.hideSelectOptions()}getValue(e){return e.getAttribute("value")}getCurrentColorElement(e){return this.selectOptions[e]||this.createColorSelect(e),this.selectOptions[e]}hideSelectOptions(){for(let e in this.selectOptions)this.util.hideElement(this.selectOptions[e])}}t.IconElement=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpacityElement=void 0;const r=i(0);class o extends r.FormElement{createContent(){this.label=L.DomUtil.create("span","leaflet-styleeditor-input-span",this.uiElement),this.slider=L.DomUtil.create("input","leaflet-styleeditor-input",this.uiElement),this.slider.type="range",this.slider.max="1",this.slider.min="0",this.slider.step="0.01",this.slider.value="0.5",L.DomEvent.addListener(this.slider,"change",this.updateStyle,this),L.DomEvent.addListener(this.slider,"input",this.updateStyle,this),L.DomEvent.addListener(this.slider,"keyup",this.updateStyle,this),L.DomEvent.addListener(this.slider,"mouseup",this.updateStyle,this)}style(){this.slider.value=this.util.getStyle(this.styleOption),this.label.innerText=Math.round(100*parseFloat(this.slider.value)).toString()+"%"}updateStyle(){this.setStyle(this.slider.value)}}t.OpacityElement=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupContentElement=void 0;const r=i(0);class o extends r.FormElement{constructor(){super(...arguments),this.title="Description"}createContent(){this.textArea=L.DomUtil.create("textarea","leaflet-styleeditor-input",this.uiElement),L.DomEvent.addListener(this.textArea,"change",this.updateStyle,this)}style(){let e=this.styleEditor.getCurrentMarker()[0];e&&e.options&&(this.textArea.value=e.options.popupContent||"")}updateStyle(){let e=this.styleEditor.getCurrentLayers(),t=this.textArea.value;for(let i=0;i<e.length;i++){let r=e[i];if(r&&r.getPopup&&r.bindPopup){let e=r.getPopup();e?e.setContent(t):r.bindPopup(t)}}this.setStyle(t)}}t.PopupContentElement=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeElement=void 0;const r=i(0);class o extends r.FormElement{constructor(){super(...arguments),this.title="size"}createContent(){const e=new this.styleEditor.options.markerType(this.styleEditor);let t=L.DomUtil.create("div","leaflet-styleeditor-sizeicon sizeicon-small",this.uiElement);L.DomEvent.addListener(t,"click",(function(){this.setStyle(e.size.small)}),this),t=L.DomUtil.create("div","leaflet-styleeditor-sizeicon sizeicon-medium",this.uiElement),L.DomEvent.addListener(t,"click",(function(){this.setStyle(e.size.medium)}),this),t=L.DomUtil.create("div","leaflet-styleeditor-sizeicon sizeicon-large",this.uiElement),L.DomEvent.addListener(t,"click",(function(){this.setStyle(e.size.large)}),this)}}t.SizeElement=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WeightElement=void 0;const r=i(0);class o extends r.FormElement{createContent(){this.label=L.DomUtil.create("span","leaflet-styleeditor-input-span",this.uiElement),this.weight=L.DomUtil.create("input","leaflet-styleeditor-input",this.uiElement),this.weight.type="range",this.weight.min="0",this.weight.max="20",this.weight.step="1",this.weight.value="4",L.DomEvent.addListener(this.weight,"change",this.updateStyle,this),L.DomEvent.addListener(this.weight,"input",this.updateStyle,this),L.DomEvent.addListener(this.weight,"keyup",this.updateStyle,this),L.DomEvent.addListener(this.weight,"mouseup",this.updateStyle,this)}style(){this.weight.value=this.util.getStyle(this.styleOption),this.label.innerText=this.weight.value}updateStyle(){this.setStyle(this.weight.value)}}t.WeightElement=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeometryForm=void 0;const r=i(3),o=i(0);class s extends r.Form{constructor(){super(...arguments),this.formOptionsKey="geometry",this.formElements={color:o.ColorElement,opacity:o.OpacityElement,weight:o.WeightElement,dashArray:o.DashElement,fillColor:o.ColorElement,fillOpacity:o.OpacityElement,popupContent:o.PopupContentElement}}showFormElement(){super.showFormElement();const e=this.util.canCurrentLayersBeFilled();Object.entries(this.initializedElements).forEach(([t,i])=>{!e&&t.startsWith("fill")?i.hide():this.showOrHideFormElement(i)})}}t.GeometryForm=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;const r=i(1);class o extends r.StyleEditorClass{constructor(e,t){super(e),this.size={small:[20,50],medium:[30,70],large:[35,90]},this.markerName=t}getMarkerCssClass(){return""===this.markerName||this.markerName.startsWith("leaflet-styleeditor-marker-")?this.markerName:"leaflet-styleeditor-marker-"+this.markerName}setNewMarker(e){let t=this.createMarkerIcon(e);this.styleEditor.getCurrentLayers().forEach(e=>{e instanceof L.Marker&&(e.setIcon(t),e instanceof L.LayerGroup?e.eachLayer((function(e){e instanceof L.Marker&&L.DomUtil.addClass(e.getElement(),"leaflet-styleeditor-marker-selected")})):L.DomUtil.addClass(e.getElement(),"leaflet-styleeditor-marker-selected"))})}setStyle(e,t){"icon"!==e&&(e="icon"+e.charAt(0).toUpperCase()+e.slice(1)),this.setNewMarker(this.getNewMarkerOptions(e,t))}createSelectHTML(e,t,i){e.appendChild(this.getSelectHTML(t,i)),e.classList.add("leaflet-styleeditor-select-"+this.markerName)}getIconOptions(){let e={};const t=this.styleEditor.getCurrentLayers().find(e=>e instanceof L.Marker);return t&&(e=t.options.icon.options),Object.keys(e).length>0||(e.iconColor=this.getDefaultMarkerColor(),e.iconSize=this.size.small,e.icon=this.util.getDefaultMarkerForColor(e.iconColor),e=this.ensureMarkerIcon(e)),e}getNewMarkerOptions(e,t){let i=this.getIconOptions();return i[e]=t,i}ensureMarkerIcon(e){return this.util.getIconsForColor(e.iconColor).includes(e.icon)||(e.icon=this.util.getDefaultMarkerForColor(e.iconColor)),e}getDefaultMarkerColor(){let e=this.colorRamp,t=this.styleEditor.options.colorRamp,i=[];null!=e?(i=e.filter(e=>t.includes(e)),0===i.length&&(i=e)):i=t;let r=this.styleEditor.options.defaultMarkerColor;return null===r||i.includes(r)||(r=null),null===r&&(r=this.styleEditor.options.defaultColor,null===r||i.includes(r)||(r=null),null===r&&(r=i[0])),this.util.rgbToHex(r)}sizeToName(e){let t=Object.keys(this.size);if("string"==typeof e){"s"===e?e="small":"m"===e?e="medium":"l"===e&&(e="large");for(let i=0;i<t.length;i++)if(this.size[t[i]]===e)return t[i]}let i=Object.values(this.size);for(let r=0;r<i.length;r++)if(JSON.stringify(e)===JSON.stringify(i[r]))return t[r];return t[0]}sizeToPixel(e){return e=this.sizeToName(e),this.size[e]}}t.Marker=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultMarker=void 0;const r=i(7);class o extends r.Marker{constructor(e){super(e,"defaultmarker"),this.markers=["circle-stroked","circle","square-stroked","square","triangle-stroked","triangle","star-stroked","star","cross","marker-stroked","marker","religious-jewish","religious-christian","religious-muslim","cemetery","rocket","airport","heliport","rail","rail-metro","rail-light","bus","fuel","parking","parking-garage","airfield","roadblock","ferry","harbor","bicycle","park","park2","museum","lodging","monument","zoo","garden","campsite","theatre","art-gallery","pitch","soccer","america-football","tennis","basketball","baseball","golf","swimming","cricket","skiing","school","college","library","post","fire-station","town-hall","police","prison","embassy","beer","restaurant","cafe","shop","fast-food","bar","bank","grocery","cinema","pharmacy","hospital","danger","industrial","warehouse","commercial","building","place-of-worship","alcohol-shop","logging","oil-well","slaughterhouse","dam","water","wetland","disability","telephone","emergency-telephone","toilets","waste-basket","music","land-use","city","town","village","farm","bakery","dog-park","lighthouse","clothing-store","polling-place","playground","entrance","heart","london-underground","minefield","rail-underground","rail-above","camera","laundry","car","suitcase","hairdresser","chemist","mobilephone","scooter"]}createMarkerIcon(e){let t=e.iconSize;return new L.Icon({iconUrl:this.getMarkerUrlForStyle(e),iconSize:e.iconSize,iconColor:e.iconColor,icon:e.icon,className:this.markerName,iconAnchor:[t[0]/2,t[1]/2],popupAnchor:[0,-t[1]/2]})}getSelectHTML(e,t){const i={};return i.iconSize=this.size.small,i.icon=t,i.iconColor=e.iconColor,this.createMarkerIcon(i).createIcon()}getMarkerUrlForStyle(e){return this.getMarkerUrl(e.iconSize,e.iconColor,e.icon)}getMarkerUrl(e,t,i){let r="https://api.tiles.mapbox.com/v3/marker/pin-"+(e=this.sizeToName(e)[0]);return i&&(r+="-"+i),r+"+"+(t=0===t.indexOf("#")?t.replace("#",""):this.util.rgbToHex(t,!0))+".png"}}t.DefaultMarker=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultStyleEditorOptions=void 0;const r=i(3),o=i(7);t.DefaultStyleEditorOptions={position:"topleft",colorRamp:["#1abc9c","#2ecc71","#3498db","#9b59b6","#34495e","#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50","#f1c40f","#e67e22","#e74c3c","#ecf0f1","#95a5a6","#f39c12","#d35400","#c0392b","#bdc3c7","#7f8c8d"],defaultColor:null,markerType:o.DefaultMarker,markers:null,defaultMarkerIcon:null,defaultMarkerColor:null,markerForm:r.MarkerForm,geometryForm:r.GeometryForm,ignoreLayerTypes:[],forms:{},events:[],openOnLeafletDraw:!0,openOnLeafletEditable:!0,showTooltip:!0,strings:{title:"Style Editor",cancel:"cancel",cancelTitle:"cancel",tooltip:"Click on the element you want to style",hide:"Hide Style Editor"},useGrouping:!1,styleEditorEventPrefix:"styleeditor:"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleEditorControl=void 0;const r=i(5),o=i(2);class s extends L.Control{constructor(e,t){super(),this.isEnabled=!1,this.options=Object.assign(Object.assign({},o.DefaultStyleEditorOptions),e),this.styleEditor=t}onAdd(e){return void 0===this.styleEditor&&(this.styleEditor=new r.StyleEditorImpl(e,this.options)),this.styleEditor.disable(),this.createUI()}createUI(){const e=L.DomUtil.create("div","leaflet-control-styleeditor leaflet-control leaflet-bar");L.DomUtil.create("a","leaflet-control-styleeditor-interior",e).title=this.options.strings.title;const t=this.cancelUI=L.DomUtil.create("div","leaflet-control-styleeditor-cancel leaflet-styleeditor-hidden",e);return t.innerHTML=this.options.strings.cancel,t.title=this.options.strings.cancelTitle,L.DomEvent.disableScrollPropagation(e),L.DomEvent.disableScrollPropagation(t),L.DomEvent.disableClickPropagation(e),L.DomEvent.disableClickPropagation(t),L.DomEvent.on(e,"click",this.toggle,this),e}toggle(){this.isEnabled?this.disable():this.enable()}enable(){this.isEnabled=!0,this.showCancelButton(),this.styleEditor.enable()}disable(){this.isEnabled&&(this.isEnabled=!1,this.hideCancelButton(),this.styleEditor.disable())}showCancelButton(){L.DomUtil.removeClass(this.cancelUI,"leaflet-styleeditor-hidden")}hideCancelButton(){L.DomUtil.addClass(this.cancelUI,"leaflet-styleeditor-hidden")}}t.StyleEditorControl=s},function(e,t,i){}]);
//# sourceMappingURL=Leaflet.StyleEditor.min.js.map