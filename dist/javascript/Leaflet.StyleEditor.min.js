var leafletstyleeditor=function(e){var t={};function i(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(o,s,function(t){return e[t]}.bind(null,s));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=8)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WeightElement=t.SizeElement=t.PopupContentElement=t.OpacityElement=t.IconElement=t.FormElement=t.DashElement=t.ColorElement=void 0;const o=i(15);Object.defineProperty(t,"ColorElement",{enumerable:!0,get:function(){return o.ColorElement}});const s=i(16);Object.defineProperty(t,"DashElement",{enumerable:!0,get:function(){return s.DashElement}});const r=i(4);Object.defineProperty(t,"FormElement",{enumerable:!0,get:function(){return r.FormElement}});const l=i(17);Object.defineProperty(t,"IconElement",{enumerable:!0,get:function(){return l.IconElement}});const n=i(18);Object.defineProperty(t,"OpacityElement",{enumerable:!0,get:function(){return n.OpacityElement}});const a=i(19);Object.defineProperty(t,"PopupContentElement",{enumerable:!0,get:function(){return a.PopupContentElement}});const c=i(20);Object.defineProperty(t,"SizeElement",{enumerable:!0,get:function(){return c.SizeElement}});const d=i(21);Object.defineProperty(t,"WeightElement",{enumerable:!0,get:function(){return d.WeightElement}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleEditorClass=void 0;class o extends L.Class{constructor(e){super(),this.styleEditor=e,this.map=e.map,this.util=e.util}}t.StyleEditorClass=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultStyleEditorOptions=t.DefaultStyleEditorClassOptions=t.DefaultStyleEditorControlOptions=void 0;const o=i(12);Object.defineProperty(t,"DefaultStyleEditorControlOptions",{enumerable:!0,get:function(){return o.DefaultStyleEditorControlOptions}});const s=i(13);Object.defineProperty(t,"DefaultStyleEditorClassOptions",{enumerable:!0,get:function(){return s.DefaultStyleEditorClassOptions}});const r=i(25);Object.defineProperty(t,"DefaultStyleEditorOptions",{enumerable:!0,get:function(){return r.DefaultStyleEditorOptions}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkerForm=t.GeometryForm=t.Form=void 0;const o=i(14);Object.defineProperty(t,"Form",{enumerable:!0,get:function(){return o.Form}});const s=i(6);Object.defineProperty(t,"MarkerForm",{enumerable:!0,get:function(){return s.MarkerForm}});const r=i(22);Object.defineProperty(t,"GeometryForm",{enumerable:!0,get:function(){return r.GeometryForm}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormElement=void 0;const o=i(1);class s extends o.StyleEditorClass{constructor(e,t,i){super(e.styleEditor),this.styleOption=i,this.parentForm=e,this.create(t)}create(e){this.uiElement=L.DomUtil.create("div","leaflet-styleeditor-uiElement",e),this.createTitle(),this.createContent()}createTitle(){L.DomUtil.create("label","leaflet-styleeditor-label",this.uiElement).innerHTML=this.title||this.styleOption.charAt(0).toUpperCase()+this.styleOption.slice(1)}createContent(){}show(){this.style(),this.showForm()}showForm(){this.util.showElement(this.uiElement)}hide(){this.util.hideElement(this.uiElement)}style(){}lostFocus(){}setStyle(e){const t=this.parentForm.styleEditor.getCurrentLayers();for(let i=0;i<t.length;i++){let o=t[i];if(o instanceof L.Marker)new this.styleEditor.options.markerType(this.styleEditor).setStyle(this.styleOption,e);else if(o instanceof L.Path){let t={};t[this.styleOption]=e,o.setStyle(t),o.options[this.styleOption]=e}this.util.fireChangeEvent(o)}this.parentForm.style()}}t.FormElement=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleEditorImpl=void 0;const o=i(10),s=i(11),r=i(2);class l extends L.Class{constructor(e,t){super(),this.map=e,this.options=Object.assign(Object.assign({},r.DefaultStyleEditorOptions),t),this.util=new s.Util(this),this.createUi()}createUi(){const e=this.editorUI=L.DomUtil.create("div","leaflet-styleeditor",this.map.getContainer()),t=L.DomUtil.create("div","leaflet-styleeditor-header",e);this.interiorEditorUI=L.DomUtil.create("div","leaflet-styleeditor-interior",e);const i=L.DomUtil.create("button","leaflet-styleeditor-button styleeditor-hideBtn",t);i.title=this.options.strings.hide;const s=this.tooltipUI=L.DomUtil.create("div","leaflet-styleeditor-tooltip-wrapper",this.map.getContainer());L.DomUtil.create("div","leaflet-styleeditor-tooltip",s).innerHTML=this.options.strings.tooltip,L.DomEvent.disableScrollPropagation(e),L.DomEvent.disableScrollPropagation(i),L.DomEvent.disableClickPropagation(e),L.DomEvent.disableClickPropagation(i),L.DomEvent.on(i,"click",this.onNext,this),this.addEventListeners(this.map),this.styleForm=new o.StyleForm(this)}addEventListeners(e){this.options.events.forEach(t=>e.on(t,this.onEvent))}onEvent(e){}onNext(e){this.hideEditor(),this.showTooltip(),e.stopPropagation()}removeIndicators(){const e=this.map.getPanes().markerPane.children;for(let t=0;t<e.length;t++){const i=e[t];L.DomUtil.removeClass(i,"leaflet-styleeditor-marker-selected")}}addClickEvents(){this.map.eachLayer(this.addClickEvent,this)}addClickEvent(e){this.layerIsIgnored(e)||(this.options.useGrouping&&e instanceof L.LayerGroup||e instanceof L.Marker||L.Path,e.on("click",this.showEditor,this))}removeClickEvents(){this.map.eachLayer(this.removeClickEvent,this)}removeClickEvent(e){e.off("click",this.showEditor,this)}layerIsIgnored(e){return void 0!==e&&this.options.ignoreLayerTypes.some(t=>e.styleEditor&&e.styleEditor.type.toUpperCase()===t.toUpperCase())}hideEditor(){L.DomUtil.removeClass(this.editorUI,"editor-enabled"),this.removeIndicators(),this.fireEvent("hidden")}showEditor(e){e&&(this.currentElement=e),this.currentElement&&L.DomUtil.addClass(this.editorUI,"editor-enabled"),this.fireEvent("visible"),this.styleForm.show()}showTooltip(){L.DomUtil.removeClass(this.tooltipUI,"leaflet-styleeditor-hidden")}hideTooltip(){L.DomUtil.addClass(this.tooltipUI,"leaflet-styleeditor-hidden")}fireEvent(e,t){}enable(){this.addClickEvents(),this.showTooltip(),this.showEditor()}disable(){this.removeClickEvents(),this.hideTooltip(),this.hideEditor()}getCurrentLayers(){return this.currentElement?this.currentElement.target instanceof L.LayerGroup?this.currentElement.target.getLayers():[this.currentElement.target]:[]}getCurrentMarker(){return this.getCurrentLayers().filter(e=>e instanceof L.Marker)}}t.StyleEditorImpl=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkerForm=void 0;const o=i(3),s=i(0);class r extends o.Form{constructor(){super(...arguments),this.formOptionKey="marker",this.formElements={icon:s.IconElement,color:s.ColorElement,size:s.SizeElement,popupContent:s.PopupContentElement}}}t.MarkerForm=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultMarker=t.Marker=void 0;const o=i(23);Object.defineProperty(t,"Marker",{enumerable:!0,get:function(){return o.Marker}});const s=i(24);Object.defineProperty(t,"DefaultMarker",{enumerable:!0,get:function(){return s.DefaultMarker}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(9);const o=i(5),s=i(26);i(27),L.StyleEditor=o.StyleEditorImpl,L.styleEditor=function(e,t){return new o.StyleEditorImpl(e,t)},L.Control.StyleEditor=s.StyleEditorControl,L.control.styleEditor=function(e){return new s.StyleEditorControl(e)},t.default=L},function(e,t){e.exports=void 0},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleForm=void 0;const o=i(1);class s extends o.StyleEditorClass{constructor(e){super(e),this.markerForm=this.createMarkerForm(),this.geometryForm=this.createGeometryForm(),this.clearForm(),this.addDOMEvents()}addDOMEvents(){L.DomEvent.addListener(this.map,"click",this.lostFocus,this),L.DomEvent.addListener(this.styleEditor.editorUI,"click",this.lostFocus,this)}clearForm(){this.markerForm.hide(),this.geometryForm.hide()}createMarkerForm(){const e=L.DomUtil.create("div","leaflet-styleeditor-interior-marker",this.styleEditor.interiorEditorUI),t=new this.styleEditor.options.markerForm(this.styleEditor,e);return t.create(),t}createGeometryForm(){const e=L.DomUtil.create("div","leaflet-styleeditor-interior-geometry",this.styleEditor.interiorEditorUI),t=new this.styleEditor.options.geometryForm(this.styleEditor,e);return t.create(),t}show(){this.styleEditor.getCurrentMarker().length>0?this.showMarkerForm():this.showGeometryForm()}showMarkerForm(){this.clearForm(),this.markerForm.show()}showGeometryForm(){this.clearForm(),this.geometryForm.show()}fireChangeEvent(e){this.util.fireChangeEvent(e)}lostFocus(e){let t=e.target;for(let e=0;e<10&&t;e++){if(t.className&&L.DomUtil.hasClass(t,"leaflet-styleeditor-interior"))return;t=t.parentNode}this.markerForm.lostFocus(),this.geometryForm.lostFocus()}}t.StyleForm=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.UtilOptions=void 0;t.UtilOptions=class{};t.Util=class{constructor(e){this.styleEditor=e,this.map=e.map,this.options=e.options}fireEvent(e,t){this.map.fireEvent(this.options.styleEditorEventPrefix+e,t)}fireChangeEvent(e){this.fireEvent("changed",e)}hideElement(e){e&&L.DomUtil.addClass(e,"leaflet-styleeditor-hidden")}rgbToHex(e,t=!1){if(e||0!==(e=this.options.defaultColor).indexOf("#")&&(e="#"+e),0===e.indexOf("#"))return t&&e.replace("#",""),e;if(e.indexOf("(")<0)return"#"+e;let i=e.substring(4).replace(")","").split(","),o=this.componentToHex(parseInt(i[0],10))+this.componentToHex(parseInt(i[1],10))+this.componentToHex(parseInt(i[2],10));return t?o:"#"+o}getStyle(e){const t=this.styleEditor.getCurrentLayers();if(t.length>0){let i=t[0].options[e];if(i)return i}return null}setStyle(e,t,i){if(e instanceof L.Marker)new this.styleEditor.options.markerType(this.styleEditor).setStyle(t,i);else{let o={};o[t]=i,e.setStyle(o)}this.fireChangeEvent(e)}showElement(e){e&&L.DomUtil.removeClass(e,"leaflet-styleeditor-hidden")}componentToHex(e){let t=e.toString(16);return 1===t.length?"0"+t:t}getMarkersForColor(e){e=this.rgbToHex(e);let t=new this.styleEditor.options.markerType(this.styleEditor).markers,i=this.styleEditor.options.markers;if(Array.isArray(t)||(t=Object.keys(t).includes(e)?t[e]:t.default),null!==i){if(!Array.isArray(i)){let o=Object.keys(i);i=o.includes(e)?i[e]:o.includes("default")?i.default:t}return t.filter(e=>i.includes(e))}return t}getDefaultMarkerForColor(e){e=this.rgbToHex(e);let t=this.getMarkersForColor(e),i=[],o=this.styleEditor.options.defaultMarkerIcon;return null!==o&&("string"==typeof o&&i.push(o),Object.keys(o).includes(e)&&i.push(o[e])),o=new this.styleEditor.options.markerType(this.styleEditor).defaultMarkerIcon,void 0!==o&&("string"==typeof o&&i.push(o),Object.keys(o).includes(e)&&i.push(o[e])),i.filter(e=>t.includes(e)),i.length>0?i[0]:t[0]}canCurrentLayersBeFilled(){return null!=this.styleEditor.getCurrentLayers().find(e=>e.options.fill)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultStyleEditorControlOptions=void 0,t.DefaultStyleEditorControlOptions={position:"topleft",strings:{title:"Style Editor",cancel:"cancel",cancelTitle:"cancel"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultStyleEditorClassOptions=void 0;const o=i(3),s=i(7);t.DefaultStyleEditorClassOptions={position:"topleft",colorRamp:["#1abc9c","#2ecc71","#3498db","#9b59b6","#34495e","#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50","#f1c40f","#e67e22","#e74c3c","#ecf0f1","#95a5a6","#f39c12","#d35400","#c0392b","#bdc3c7","#7f8c8d"],defaultColor:null,markerType:s.DefaultMarker,markers:null,defaultMarkerIcon:null,defaultMarkerColor:null,markerForm:o.MarkerForm,geometryForm:o.GeometryForm,ignoreLayerTypes:[],forms:{},events:[],openOnLeafletDraw:!0,openOnLeafletEditable:!0,showTooltip:!0,strings:{tooltip:"Click on the element you want to style",hide:"Hide Style Editor"},useGrouping:!0,styleEditorEventPrefix:"styleeditor:"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Form=void 0;const o=i(1);class s extends o.StyleEditorClass{constructor(e,t){super(e),this.initializedElements={},this.parentUiElement=t}create(){for(let e in this.formElements){const t=this.getFormElementClass(e);void 0!==t&&(this.initializedElements[e]=new t(this,this.parentUiElement,e))}}hide(){this.hideFormElements(),this.hideForm()}hideFormElements(){for(let e in this.initializedElements)this.initializedElements[e].hide()}hideForm(){this.util.hideElement(this.parentUiElement)}show(){this.preShow(),this.showFormElement(),this.showForm(),this.style()}preShow(){}showFormElement(){for(let e in this.initializedElements)this.showOrHideFormElement(this.initializedElements[e])}showForm(){this.util.showElement(this.parentUiElement)}style(){for(let e in this.initializedElements)this.initializedElements[e].style()}lostFocus(){for(let e in this.initializedElements)this.initializedElements[e].lostFocus()}showOrHideFormElement(e){this.showFormElementForStyleOption(e.styleOption)?e.show():e.hide()}getFormElementClass(e){if(Object.keys(this.formElements).indexOf(e)>=0){let t=this.formElements[e];if(t){if("boolean"==typeof t)return this.getFormElementStandardClass(e);"formElement"in t&&"boolean"in t&&(t=t.formElement)}return this.getFormElementStandardClass(e)}}showFormElementForStyleOption(e){return!0}getFormElementStandardClass(e){return this.formElements[e]}}t.Form=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorElement=void 0;const o=i(4),s=i(6);class r extends o.FormElement{constructor(){super(...arguments),this.title="color"}createContent(){this.colorPickerDiv=L.DomUtil.create("div","leaflet-styleeditor-colorpicker",this.uiElement),this.getColorRamp().forEach(this.setSelectCallback,this)}getColorRamp(){if(this.parentForm instanceof s.MarkerForm){const e=new this.styleEditor.options.markerType(this.styleEditor);if(e.colorRamp)return e.colorRamp}return this.styleEditor.options.colorRamp}setSelectCallback(e){let t=L.DomUtil.create("div","leaflet-styleeditor-color",this.colorPickerDiv);t.style.backgroundColor=e,L.DomEvent.addListener(t,"click",this.selectColor,this)}selectColor(e){e.stopPropagation(),this.setStyle(this.util.rgbToHex(e.target.style.backgroundColor))}}t.ColorElement=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DashElement=void 0;const o=i(4);class s extends o.FormElement{createContent(){let e=L.DomUtil.create("div","leaflet-styleeditor-stroke",this.uiElement);e.style.backgroundPosition="0px -75px",L.DomEvent.addListener(e,"click",(function(){this.setStyle("1")}),this),e=L.DomUtil.create("div","leaflet-styleeditor-stroke",this.uiElement),e.style.backgroundPosition="0px -95px",L.DomEvent.addListener(e,"click",(function(){this.setStyle("10, 10")}),this),e=L.DomUtil.create("div","leaflet-styleeditor-stroke",this.uiElement),e.style.backgroundPosition="0px -115px",L.DomEvent.addListener(e,"click",(function(){this.setStyle("15, 10, 1, 10")}),this)}}t.DashElement=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconElement=void 0;const o=i(0);class s extends o.FormElement{constructor(){super(...arguments),this.styleOption="icon",this.selectOptionWrapperClasses="leaflet-styleeditor-select-option-wrapper leaflet-styleeditor-hidden",this.selectOptionClasses="leaflet-styleeditor-select-option"}createContent(){let e=L.DomUtil.create("div","leaflet-styleeditor-select",this.uiElement);this.selectBoxImage=this.createSelectInputImage(e),L.DomEvent.addListener(e,"click",this.toggleSelectInput,this)}style(){let e=new this.styleEditor.options.markerType(this.styleEditor).getIconOptions();this.styleSelectInputImage(this.selectBoxImage,e.icon,e.iconColor),this.createColorSelect(e.iconColor),this.hideSelectOptions()}lostFocus(){this.hideSelectOptions()}createSelectInputImage(e){let t=L.DomUtil.create("div","leaflet-styleeditor-select-image-wrapper",e);return L.DomUtil.create("div","leaflet-styleeditor-select-image",t)}styleSelectInputImage(e,t,i){if(!t&&!(t=e.getAttribute("value")))return;let o=new this.styleEditor.options.markerType(this.styleEditor).getIconOptions();i&&(o.iconColor=i),e.innerHTML="",new this.styleEditor.options.markerType(this.styleEditor).createSelectHTML(e,o,t),e.setAttribute("value",t)}createColorSelect(e){if(this.selectOptions||(this.selectOptions={}),e in this.selectOptions)return;let t=L.DomUtil.create("ul",this.selectOptionWrapperClasses,this.uiElement);this.util.getMarkersForColor(e).forEach((function(i){let o=L.DomUtil.create("li",this.selectOptionClasses,t),s=this.createSelectInputImage(o);this.styleSelectInputImage(s,i,e)}),this),this.selectOptions[e]=t,L.DomEvent.addListener(t,"click",(function(e){e.stopPropagation();let t=e.target;if("UL"===t.nodeName)return;const i=t.parentNode;if("leaflet-styleeditor-select-image"===i.className)t=i;else for(;t&&"leaflet-styleeditor-select-image"!==t.className;)t=t.childNodes[0];this.selectMarker({target:t},this)}),this)}toggleSelectInput(){let e=this.getCurrentColorElement(this.util.rgbToHex(new this.styleEditor.options.markerType(this.styleEditor).getIconOptions().iconColor)),t=!1;e&&(t=L.DomUtil.hasClass(e,"leaflet-styleeditor-hidden")),this.hideSelectOptions(),t&&this.util.showElement(e)}selectMarker(e){let t=this.getValue(e.target);this.selectBoxImage.setAttribute("value",t),this.setStyle(t),this.hideSelectOptions()}getValue(e){return e.getAttribute("value")}getCurrentColorElement(e){return this.selectOptions[e]||this.createColorSelect(e),this.selectOptions[e]}hideSelectOptions(){for(let e in this.selectOptions)this.util.hideElement(this.selectOptions[e])}}t.IconElement=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpacityElement=void 0;const o=i(0);class s extends o.FormElement{createContent(){this.label=L.DomUtil.create("span","leaflet-styleeditor-input-span",this.uiElement),this.slider=L.DomUtil.create("input","leaflet-styleeditor-input",this.uiElement),this.slider.type="range",this.slider.max="1",this.slider.min="0",this.slider.step="0.01",this.slider.value="0.5",L.DomEvent.addListener(this.slider,"change",this.updateStyle,this),L.DomEvent.addListener(this.slider,"input",this.updateStyle,this),L.DomEvent.addListener(this.slider,"keyup",this.updateStyle,this),L.DomEvent.addListener(this.slider,"mouseup",this.updateStyle,this)}style(){this.slider.value=this.util.getStyle(this.styleOption),this.label.innerText=Math.round(100*parseFloat(this.slider.value)).toString()+"%"}updateStyle(){this.setStyle(this.slider.value)}}t.OpacityElement=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupContentElement=void 0;const o=i(0);class s extends o.FormElement{constructor(){super(...arguments),this.title="Description"}createContent(){this.textArea=L.DomUtil.create("textarea","leaflet-styleeditor-input",this.uiElement),L.DomEvent.addListener(this.textArea,"change",this.updateStyle,this)}style(){let e=this.styleEditor.getCurrentMarker()[0];e&&e.options&&(this.textArea.value=e.options.popupContent||"")}updateStyle(){let e=this.styleEditor.getCurrentLayers(),t=this.textArea.value;for(let i=0;i<e.length;i++){let o=e[i];if(o&&o.getPopup&&o.bindPopup){let e=o.getPopup();e?e.setContent(t):o.bindPopup(t)}}this.setStyle(t)}}t.PopupContentElement=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeElement=void 0;const o=i(0);class s extends o.FormElement{constructor(){super(...arguments),this.title="size"}createContent(){const e=new this.styleEditor.options.markerType(this.styleEditor);let t=L.DomUtil.create("div","leaflet-styleeditor-sizeicon sizeicon-small",this.uiElement);L.DomEvent.addListener(t,"click",(function(){this.setStyle(e.size.small)}),this),t=L.DomUtil.create("div","leaflet-styleeditor-sizeicon sizeicon-medium",this.uiElement),L.DomEvent.addListener(t,"click",(function(){this.setStyle(e.size.medium)}),this),t=L.DomUtil.create("div","leaflet-styleeditor-sizeicon sizeicon-large",this.uiElement),L.DomEvent.addListener(t,"click",(function(){this.setStyle(e.size.large)}),this)}}t.SizeElement=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WeightElement=void 0;const o=i(0);class s extends o.FormElement{createContent(){this.label=L.DomUtil.create("span","leaflet-styleeditor-input-span",this.uiElement),this.weight=L.DomUtil.create("input","leaflet-styleeditor-input",this.uiElement),this.weight.type="range",this.weight.min="0",this.weight.max="20",this.weight.step="1",this.weight.value="4",L.DomEvent.addListener(this.weight,"change",this.updateStyle,this),L.DomEvent.addListener(this.weight,"input",this.updateStyle,this),L.DomEvent.addListener(this.weight,"keyup",this.updateStyle,this),L.DomEvent.addListener(this.weight,"mouseup",this.updateStyle,this)}style(){this.weight.value=this.util.getStyle(this.styleOption),this.label.innerText=this.weight.value}updateStyle(){this.setStyle(this.weight.value)}}t.WeightElement=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeometryForm=void 0;const o=i(3),s=i(0);class r extends o.Form{constructor(){super(...arguments),this.formOptionKey="geometry",this.formElements={color:s.ColorElement,opacity:s.OpacityElement,weight:s.WeightElement,dashArray:s.DashElement,fillColor:s.ColorElement,fillOpacity:s.OpacityElement,popupContent:s.PopupContentElement}}showFormElement(){super.showFormElement();const e=this.util.canCurrentLayersBeFilled();Object.entries(this.initializedElements).forEach(([t,i])=>{!e&&t.startsWith("fill")?(console.log(i+" hiding"),i.hide()):(console.log(i+" showing/hiding"),this.showOrHideFormElement(i))})}}t.GeometryForm=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;const o=i(1);class s extends o.StyleEditorClass{constructor(e,t){super(e),this.size={small:[20,50],medium:[30,70],large:[35,90]},""===t||t.startsWith("leaflet-styleeditor-select-image-")||(this.selectIconClass="leaflet-styleeditor-select-image-"+t)}setNewMarker(e){let t=this.createMarkerIcon(e);this.styleEditor.getCurrentLayers().forEach(e=>{e instanceof L.Marker&&(e.setIcon(t),e instanceof L.LayerGroup?e.eachLayer((function(e){e instanceof L.Marker&&L.DomUtil.addClass(e.getElement(),"leaflet-styleeditor-marker-selected")})):L.DomUtil.addClass(e.getElement(),"leaflet-styleeditor-marker-selected"))})}setStyle(e,t){"icon"!==e&&(e="icon"+e.charAt(0).toUpperCase()+e.slice(1)),this.setNewMarker(this.getNewMarkerOptions(e,t))}createSelectHTML(e,t,i){}getIconOptions(){let e={};const t=this.styleEditor.getCurrentLayers().find(e=>e instanceof L.Marker);return t&&(e=t.options.icon.options),Object.keys(e).length>0||(e.iconColor=this.getDefaultMarkerColor(),e.iconSize=this.size.small,e.icon=this.util.getDefaultMarkerForColor(e.iconColor),e=this.ensureMarkerIcon(e)),e}getNewMarkerOptions(e,t){let i=this.getIconOptions();return i[e]=t,i}ensureMarkerIcon(e){return this.util.getMarkersForColor(e.iconColor).includes(e.icon)||(e.icon=this.util.getDefaultMarkerForColor(e.iconColor)),e}getDefaultMarkerColor(){let e=this.colorRamp,t=this.styleEditor.options.colorRamp,i=[];null!=e?(i=e.filter(e=>t.includes(e)),0===i.length&&(i=e)):i=t;let o=this.styleEditor.options.defaultMarkerColor;return null===o||i.includes(o)||(o=null),null===o&&(o=this.styleEditor.options.defaultColor,null===o||i.includes(o)||(o=null),null===o&&(o=i[0])),this.util.rgbToHex(o)}sizeToName(e){let t=Object.keys(this.size);if("string"==typeof e){"s"===e?e="small":"m"===e?e="medium":"l"===e&&(e="large");for(let i=0;i<t.length;i++)if(this.size[t[i]]===e)return t[i]}let i=Object.values(this.size);for(let o=0;o<i.length;o++)if(JSON.stringify(e)===JSON.stringify(i[o]))return t[o];return t[0]}sizeToPixel(e){return e=this.sizeToName(e),this.size[e]}}t.Marker=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultMarker=void 0;const o=i(7);class s extends o.Marker{constructor(e){super(e,"defaultmarker"),this.markers=["circle-stroked","circle","square-stroked","square","triangle-stroked","triangle","star-stroked","star","cross","marker-stroked","marker","religious-jewish","religious-christian","religious-muslim","cemetery","rocket","airport","heliport","rail","rail-metro","rail-light","bus","fuel","parking","parking-garage","airfield","roadblock","ferry","harbor","bicycle","park","park2","museum","lodging","monument","zoo","garden","campsite","theatre","art-gallery","pitch","soccer","america-football","tennis","basketball","baseball","golf","swimming","cricket","skiing","school","college","library","post","fire-station","town-hall","police","prison","embassy","beer","restaurant","cafe","shop","fast-food","bar","bank","grocery","cinema","pharmacy","hospital","danger","industrial","warehouse","commercial","building","place-of-worship","alcohol-shop","logging","oil-well","slaughterhouse","dam","water","wetland","disability","telephone","emergency-telephone","toilets","waste-basket","music","land-use","city","town","village","farm","bakery","dog-park","lighthouse","clothing-store","polling-place","playground","entrance","heart","london-underground","minefield","rail-underground","rail-above","camera","laundry","car","suitcase","hairdresser","chemist","mobilephone","scooter"]}createMarkerIcon(e){let t=e.iconSize;return new L.Icon({iconUrl:this.getMarkerUrlForStyle(e),iconSize:e.iconSize,iconColor:e.iconColor,icon:e.icon,className:this.selectIconClass,iconAnchor:[t[0]/2,t[1]/2],popupAnchor:[0,-t[1]/2]})}createSelectHTML(e,t,i){let o={};o.iconSize=this.size.small,o.icon=i,o.iconColor=t.iconColor,e.innerHTML=this.createMarkerIcon(o).createIcon().outerHTML}getMarkerUrlForStyle(e){return this.getMarkerUrl(e.iconSize,e.iconColor,e.icon)}getMarkerUrl(e,t,i){let o="https://api.tiles.mapbox.com/v3/marker/pin-"+(e=this.sizeToName(e)[0]);return i&&(o+="-"+i),o+"+"+(t=0===t.indexOf("#")?t.replace("#",""):this.util.rgbToHex(t,!0))+".png"}}t.DefaultMarker=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultStyleEditorOptions=void 0;const o=i(2);t.DefaultStyleEditorOptions=Object.assign(Object.assign(Object.assign({},o.DefaultStyleEditorClassOptions),o.DefaultStyleEditorControlOptions),{strings:{title:o.DefaultStyleEditorControlOptions.strings.title,cancel:o.DefaultStyleEditorControlOptions.strings.cancel,cancelTitle:o.DefaultStyleEditorControlOptions.strings.cancelTitle,tooltip:o.DefaultStyleEditorClassOptions.strings.tooltip,hide:o.DefaultStyleEditorClassOptions.strings.hide}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleEditorControl=void 0;const o=i(5),s=i(2);class r extends L.Control{constructor(e,t,i){super(),this.isEnabled=!1,void 0===i?(this.options=Object.assign(Object.assign({},s.DefaultStyleEditorControlOptions),e),this.styleEditor=t):(this.options=Object.assign(Object.assign({},s.DefaultStyleEditorControlOptions),i),this.styleEditorClassOptions=Object.assign(Object.assign({},s.DefaultStyleEditorClassOptions),i))}onAdd(e){return void 0===this.styleEditor&&(this.styleEditor=new o.StyleEditorImpl(e,this.styleEditorClassOptions)),this.styleEditor.disable(),this.createUI()}createUI(){const e=L.DomUtil.create("div","leaflet-control-styleeditor leaflet-control leaflet-bar");L.DomUtil.create("a","leaflet-control-styleeditor-interior",e).title=this.options.strings.title;const t=this.cancelUI=L.DomUtil.create("div","leaflet-control-styleeditor-cancel leaflet-styleeditor-hidden",e);return t.innerHTML=this.options.strings.cancel,t.title=this.options.strings.cancelTitle,L.DomEvent.disableScrollPropagation(e),L.DomEvent.disableScrollPropagation(t),L.DomEvent.disableClickPropagation(e),L.DomEvent.disableClickPropagation(t),L.DomEvent.on(e,"click",this.toggle,this),e}toggle(){this.isEnabled?this.disable():this.enable()}enable(){this.isEnabled=!0,this.showCancelButton(),this.styleEditor.enable()}disable(){this.isEnabled&&(this.isEnabled=!1,this.hideCancelButton(),this.styleEditor.disable())}showCancelButton(){L.DomUtil.removeClass(this.cancelUI,"leaflet-styleeditor-hidden")}hideCancelButton(){L.DomUtil.addClass(this.cancelUI,"leaflet-styleeditor-hidden")}}t.StyleEditorControl=r},function(e,t,i){}]);
//# sourceMappingURL=Leaflet.StyleEditor.min.js.map